
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You</title>
<link rel="stylesheet" href="style.css">
</head>

<body class="body-3">

<canvas id="matrix"></canvas>

<div id="t1" class="text">3</div>
<div id="t2" class="text">2</div>
<div id="t3" class="text">1</div>

<div class="cake-bg">
<div class="cake">

<svg width="360" height="360" viewBox="0 0 360 360" xmlns="http://www.w3.org/2000/svg">

  
  <!-- ===== BOTTOM TIER ===== -->

  <!-- drip meleleh krem bottom tier -->
  <ellipse cx="180" cy="295" rx="140" ry="32" fill="#e6d7b9"/>

  <!-- body pink -->
  <rect x="40" y="190" width="280" height="90" fill="#dd8faa"/>
  <!-- oval pink -->
  <ellipse cx="180" cy="190" rx="140" ry="32" fill="#e8a6bc"/>
  

  <path d="
  M40 190
  C50 240, 60 180, 70 230
  C80 265, 90 200, 100 245
  C110 285, 120 200, 130 255
  C140 305, 150 200, 160 275
  C170 295, 180 200, 190 275
  C200 305, 210 200, 220 275
  C230 290, 240 200, 250 255
  C260 280, 270 200, 280 245
  C290 270, 300 200, 320 235
  L320 295
  L40 295 Z"
  fill="#e6d7b9"/>


  <g transform="translate(180 220) scale(1.4 1) translate(-180 -220)">
    <path
  d="
    M 80 217
    C 130 253, 230 253, 280 216
  "
  transform="translate(0, -22)"
  fill="none"
  stroke="#dd8faa"
  stroke-width="2"
  stroke-linecap="round"
/>
  </g>

  <g transform="translate(180 220) scale(1.4 1) translate(-180 -220)">
    <path
  d="
    M 80 229
    C 130 255, 230 255, 280 228
  "
  transform="translate(0, 55)"
  fill="none"
  stroke="#ff7aa2"
  stroke-width="2"
  stroke-linecap="round"
/>
  </g>


  <g transform="translate(180 220) scale(1.4 1) translate(-180 -220)">
    <path
  d="
    M 80 229
    C 130 255, 230 255, 280 228
  "
  transform="translate(0, 25)"
  fill="none"
  stroke="#ff7aa2"
  stroke-width="2"
  stroke-linecap="round"
/>
  </g>


    
  <!-- ===== TOP TIER ===== -->
  <!-- body pink -->

  <rect x="85" y="115" width="190" height="60" fill="#dd8faa"/>
  <!-- oval pink -->
  <ellipse cx="180" cy="115" rx="95" ry="26" fill="#e8a6bc"/>


  <!-- drip meleleh krem top tier -->

  <!-- ===== CERES TOPPING ===== -->
<g id="ceres">
  <rect x="130" y="105" width="6" height="14" rx="2" fill="#ff4d4d" transform="rotate(-25 130 105)"/>
  <rect x="150" y="100" width="6" height="14" rx="2" fill="#ffd93d" transform="rotate(15 150 100)"/>
  <rect x="170" y="108" width="6" height="14" rx="2" fill="#4dff88" transform="rotate(-10 170 108)"/>
  <rect x="190" y="102" width="6" height="14" rx="2" fill="#4da6ff" transform="rotate(20 190 102)"/>
  <rect x="210" y="110" width="6" height="14" rx="2" fill="#ff7ad9" transform="rotate(-30 210 110)"/>
  <rect x="230" y="104" width="6" height="14" rx="2" fill="#b56bff" transform="rotate(10 230 104)"/>
</g>



  <ellipse cx="180" cy="175" rx="95" ry="22" fill="#e6d7b9"/>


  <path d="
    M85 115
    C90 135, 95 105, 100 130
    C105 155, 110 115, 115 140
    C120 165, 125 115, 130 145
    C135 170, 140 115, 145 150
    C150 175, 155 115, 160 145
    C165 170, 170 115, 175 150
    C180 175, 185 115, 190 145
    C195 170, 200 115, 205 150
    C210 175, 215 115, 220 145
    C225 170, 230 115, 235 150
    C240 170, 245 115, 250 145
    C255 170, 270 115, 275 135
    L275 175
    L85 175 Z" fill="#e6d7b9"/>


  <g transform="translate(180 220) scale(0.945 1) translate(-180 -220)">
    <path
  d="
    M 80 220
    C 130 245, 230 245, 280 224
  "
  transform="translate(0, -100)"
  fill="none"
  stroke="#dd8faa"
  stroke-width="4"
  stroke-linecap="round"
/>
  </g>

  <g transform="translate(180 220) scale(0.945 1) translate(-180 -220)">
    <path
  d="
    M 80 224
    C 130 245, 230 245, 280 224
  "
  transform="translate(0, -55)"
  fill="none"
  stroke="#dd8faa"
  stroke-width="2"
  stroke-linecap="round"
/>
  </g>
  <g transform="translate(180 220) scale(0.945 1) translate(-180 -220)">
    <path
  d="
    M 80 224
    C 130 245, 230 245, 280 224
  "
  transform="translate(0, -75)"
  fill="none"
  stroke="#dd8faa"
  stroke-width="2"
  stroke-linecap="round"
/>
  </g>



</svg>


  <div class="candle" id="candle">
    <div class="flame"></div>
  </div>

  <div class="hint">
    <p>Klik apinya</p>
    <a class="kembali" href="game.html">Next</a>
  </div>
  
</div>
</div>

<script>
/* ================= MATRIX ================= */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");

function resizeCanvas(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

const letters = "EAMELYNNE";
const fontSize = 17;
let columns = Math.floor(canvas.width / fontSize);
let drops = Array.from({ length: columns }, () => 1);

function drawMatrix(){
  ctx.fillStyle = "rgba(0,0,0,0.1)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = "#ff69b4";
  ctx.font = fontSize+"px monospace";

  drops.forEach((y,i)=>{
    const t = letters[Math.random()*letters.length|0];
    ctx.fillText(t,i*fontSize,y*fontSize);
    drops[i] = y*fontSize > canvas.height && Math.random()>0.975 ? 0 : y+1;
  });
}
const matrixInterval = setInterval(drawMatrix,50);

/* ================= COUNTDOWN ================= */
function show(id){ document.getElementById(id).style.display="block"; }
function hide(id){ document.getElementById(id).style.display="none"; }

setTimeout(()=>show("t1"),1000);
setTimeout(()=>hide("t1"),2500);
setTimeout(()=>show("t2"),3000);
setTimeout(()=>hide("t2"),4500);
setTimeout(()=>show("t3"),5000);
setTimeout(()=>{
  hide("t3");
  endCountdown();
},6500);

function endCountdown(){
  clearInterval(matrixInterval);
  canvas.style.display="none";
  document.body.style.background="black";
  setTimeout(()=>{
    document.body.classList.add("cake-bg");
    document.querySelector(".cake").style.display="flex";
  },800);
}

/* ================= SCROLL LOCK (AMAN) ================= */
let scrollLocked = false;

function lockScroll(){
  scrollLocked = true;
  document.body.style.position="fixed";
  document.body.style.width="100%";
  document.body.style.top="0";
  document.body.style.overflow="hidden";
}

document.addEventListener("touchmove", e=>{
  if(scrollLocked) e.preventDefault();
},{ passive:false });

/* ================= FIREWORKS ================= */
let started=false;
const candle = document.getElementById("candle");

candle.addEventListener("click", ()=>{
  if(started) return;
  started=true;

  document.querySelector(".flame")?.remove();
  lockScroll();
  startFireworks();
});

function startFireworks(){
  const end = Date.now()+8000;
  const interval = setInterval(()=>{
    for(let i=0;i<3;i++) launchRocket();
    if(Date.now()>end) clearInterval(interval);
  },500);
}

function launchRocket(){
  const x = Math.random()*window.innerWidth;
  const explodeY = window.innerHeight*0.15;

  const r=document.createElement("div");
  r.className="rocket";
  r.style.left=x+"px";
  r.style.top=window.innerHeight+"px";
  document.body.appendChild(r);

  setTimeout(()=>{
    r.remove();
    explode(x,explodeY);
  },1000);
}

function explode(x,y){
  for(let i=0;i<60;i++){
    const s=document.createElement("div");
    s.className="spark";
    s.style.left=x+"px";
    s.style.top=y+"px";
    s.style.background=randomColor();
    s.style.setProperty("--x",(Math.random()-.5)*450+"px");
    s.style.setProperty("--y",(Math.random()-.5)*450+"px");
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),1400);
  }
}

function randomColor(){
  return ["#ff5fa2","#ffca3a","#8ac926","#1982c4","#ffffff"][Math.random()*5|0];
}
</script>



</body>
</html>
